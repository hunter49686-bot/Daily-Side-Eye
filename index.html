<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>THE DAILY SIDE-EYE</title>

<style>
:root{
  --ink:#111;
  --muted:#666;
  --rule:#ddd;
  --accent:#b00000;
  --bg:#fff;
}

html,body{
  margin:0;
  padding:0;
  background:var(--bg);
  color:var(--ink);
  font-family: Arial, Helvetica, sans-serif;
}

.container{
  max-width:1100px;
  margin:0 auto;
  padding:18px;
}

.header{
  border-bottom:2px solid var(--rule);
  margin-bottom:16px;
}

.site-title{
  font-size:44px;
  font-weight:900;
  letter-spacing:1px;
}

.tagline{
  font-size:18px;
  color:var(--muted);
  margin-top:4px;
}

.meta{
  font-size:13px;
  color:var(--muted);
  margin-top:8px;
}

.columns{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:32px;
}

@media(max-width:900px){
  .columns{grid-template-columns:1fr;}
}

/* SECTION HEADERS */
.section{
  margin-bottom:28px;
}

.section-title{
  font-size:26px;
  font-weight:900;
  text-transform:uppercase;
  letter-spacing:1px;
  border-bottom:2px solid var(--rule);
  padding-bottom:6px;
  margin-bottom:14px;
}

.section-title.breaking{
  color:var(--accent);
  border-bottom:3px solid var(--accent);
}

/* STORIES */
.story{
  margin-bottom:18px;
}

.story a{
  color:var(--ink);
  text-decoration:none;
  font-weight:700;              /* HEADLINES BOLD */
  font-size:18px;
  line-height:1.25;
}

.story a:hover{
  text-decoration:underline;
}

.story.feature a{
  color:var(--accent);
  font-weight:900;
  font-size:20px;
}

/* BADGE */
.badge{
  display:inline-block;
  font-size:11px;
  font-weight:800;
  padding:2px 6px;
  margin-right:6px;
  border-radius:3px;
  border:1px solid var(--accent);
  color:var(--accent);
}

/* SOURCE */
.source{
  font-size:12px;
  color:var(--muted);
  margin-left:6px;
}

/* SNARK / SUBHEAD */
.snark{
  font-size:14px;
  color:#555;
  font-weight:400;             /* LIGHTER THAN HEADLINE */
  margin-top:3px;
  line-height:1.3;
}

/* FOOTER */
.footer{
  margin-top:40px;
  padding-top:12px;
  border-top:1px solid var(--rule);
  font-size:13px;
  color:var(--muted);
  text-align:center;
}
</style>
</head>

<body>
<div class="container">

  <div class="header">
    <div class="site-title" id="siteName">THE DAILY SIDE-EYE</div>
    <div class="tagline" id="siteTagline"></div>
    <div class="meta" id="updated"></div>
  </div>

  <div class="columns" id="columns"></div>

  <div class="footer">Â© The Daily Side-Eye</div>
</div>

<script>
function qs(id){return document.getElementById(id);}

function renderStory(item){
  const div=document.createElement("div");
  div.className="story"+(item.feature?" feature":"");

  let badge=item.badge?`<span class="badge">${item.badge}</span>`:"";

  div.innerHTML=`
    ${badge}
    <a href="${item.url}" target="_blank" rel="noopener noreferrer">
      ${item.title}
    </a>
    <span class="source">(${item.source})</span>
    ${item.snark?`<div class="snark">${item.snark}</div>`:""}
  `;
  return div;
}

fetch("./headlines.json?v="+Date.now())
  .then(r=>r.json())
  .then(data=>{
    qs("siteTagline").textContent=data.site?.tagline||"";
    qs("updated").textContent=
      "Last updated: "+
      new Date(data.generated_utc).toLocaleString();

    const cols=qs("columns");
    cols.innerHTML="";

    data.columns.forEach(col=>{
      const colDiv=document.createElement("div");

      col.sections.forEach(section=>{
        const sec=document.createElement("div");
        sec.className="section";

        const title=document.createElement("div");
        title.className="section-title"+
          (section.name.toLowerCase()==="breaking"?" breaking":"");
        title.textContent=section.name;
        sec.appendChild(title);

        section.items.forEach(item=>{
          sec.appendChild(renderStory(item));
        });

        colDiv.appendChild(sec);
      });

      cols.appendChild(colDiv);
    });
  })
  .catch(err=>{
    qs("columns").innerHTML="<p>Error loading headlines.</p>";
    console.error(err);
  });
</script>

</body>
</html>